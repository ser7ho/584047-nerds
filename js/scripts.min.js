var contactBtn=document.querySelector(".contact-btn"),modalWrite=document.querySelector(".modal-write"),close=modalWrite.querySelector(".modal-close"),form=modalWrite.querySelector(".modal-form"),fullname=modalWrite.querySelector("[name=fullname]"),email=modalWrite.querySelector("[name=email]"),letter=modalWrite.querySelector("[name=letter]"),overlay=document.querySelector(".overlay"),isStorageSupport=!0,fullnameStorage="",emailStorage="";try{fullnameStorage=localStorage.getItem("fullname"),emailStorage=localStorage.getItem("email")}catch(e){isStorageSupport=!1}contactBtn.addEventListener("click",function(e){e.preventDefault(),modalWrite.classList.add("modal-show"),overlay.style.display="block",fullnameStorage?(fullname.value=fullnameStorage,email.value=emailStorage,letter.focus()):fullname.focus()}),close.addEventListener("click",function(e){e.preventDefault(),modalWrite.classList.remove("modal-show"),modalWrite.classList.remove("modal-error"),overlay.style.display="none"}),window.addEventListener("keydown",function(e){27===e.keyCode&&modalWrite.classList.contains("modal-show")&&(e.preventDefault(),modalWrite.classList.remove("modal-show"),modalWrite.classList.remove("modal-error"),overlay.style.display="none")}),form.addEventListener("submit",function(e){fullname.value&&email.value&&letter.value?isStorageSupport&&(localStorage.setItem("fullname",fullname.value),localStorage.setItem("email",email.value)):(e.preventDefault(),modalWrite.classList.remove("modal-error"),modalWrite.offsetWidth=modalWrite.offsetWidth,modalWrite.classList.add("modal-error"))});
